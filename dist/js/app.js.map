{"version":3,"sources":["app.js"],"names":["gallery","document","querySelector","footer","searchBox","a","querySelectorAll","addEventListener","inputText","search","value","toLowerCase","j","i","length","captionText","getAttribute","includes","parentElement","style","display","searchButton","e","console","log","target","previousElementSibling","searchText","split","join","url","xhr","XMLHttpRequest","open","responseType","onload","readyState","DONE","status","json","response","Search","searchResult","title","Title","type","Type","poster","Poster","imdbID","galleryHTML","insertAdjacentHTML","xhr2","json2","categorie","Genre","plot","Plot","year","Year","modalHTML","send","preventDefault","id","modal","Custombox","content","fullscreen","effect","localStorageSupport","window"],"mappings":"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","file":"app.js","sourcesContent":["//\n// CustomBox Plugin (Vanilla JS)\n//\n\n\n\n\nlet gallery = document.querySelector('#js__list');\nlet footer = document.querySelector('#js__footer');\n\n\n//\n// Vanilla JS search box\n//\n\nlet searchBox = document.querySelector('.search__input');\nlet a = document.querySelectorAll('.list__content');\nsearchBox.addEventListener(\"keyup\", () => {\n  let inputText = search.value.toLowerCase();\n  let j = 0;\n  for(let i=0; i < a.length; i++ ) {\n    let captionText = a[i].getAttribute(\"title\").toLowerCase();\n    if (captionText.includes(inputText)){\n      a[i].parentElement.style.display = \"block\";\n    }else{\n      a[i].parentElement.style.display = \"none\";\n    }\n  }\n});\n\n//\n// Ajax call to get Movies from omdb api\n//\n\nlet searchButton = document.querySelector('#js__button');\n\nsearchButton.addEventListener('click', (e)=>{\n  console.log(e.target.previousElementSibling.value);\n  let searchText = e.target.previousElementSibling.value;\n  let search= searchText.split(' ').join('+');\n  const url = `http://www.omdbapi.com/?s=${search}&type=movie`;\n  console.log(url);\n\n  let xhr = new XMLHttpRequest();\n  xhr.open('GET', url, true);\n  xhr.responseType = 'json';\n  xhr.onload = function () {\n    if (xhr.readyState === xhr.DONE) {\n      if (xhr.status === 200) {\n        let json = xhr.response.Search;\n        for(let i = 0; i < json.length; i++) {\n          let searchResult = json[i];\n          let title = searchResult.Title;\n          let type = searchResult.Type;\n          let poster = searchResult.Poster;\n          let imdbID = searchResult.imdbID;\n          let galleryHTML = `\n          <li class=\"list__item\">\n            <a class=\"list__content\" href=\"${imdbID}\" title=\"${title}\">\n              <img id=\"${imdbID}\" src=\"${poster}\" alt=\"${title}\"/>\n            </a>\n          </li>\n          `;\n          gallery.insertAdjacentHTML('afterbegin',galleryHTML);\n\n\n          const url = `http://www.omdbapi.com/?i=${imdbID}`;\n          let xhr2 = new XMLHttpRequest();\n          xhr2.open('GET', url, true);\n          xhr2.responseType = 'json';\n          xhr2.onload = function () {\n            if (xhr2.readyState === xhr2.DONE) {\n              if (xhr2.status === 200) {\n                let json2 = xhr2.response;\n                let searchResult = json2;\n                let categorie = searchResult.Genre;\n                let plot = searchResult.Plot;\n                let title = searchResult.Title;\n                let year = searchResult.Year;\n                let poster = searchResult.Poster;\n                let modalHTML = `\n                <div id=\"modal__${imdbID}\" class=\"modal\">\n                  <button type=\"button\" class=\"button__modal\" onclick=\"Custombox.modal.closeAll();\">Back</button>\n                  <img id=\"${imdbID}\" src=\"${poster}\" alt=\"${title}\"/>\n                  <h1>${title}</h1>\n                  <p>${plot}</p>\n                  <span>Year: </span><span>${year}</span>\n                  <span>Categorie: </span><span>${categorie}</span>\n                </div>\n                `;\n                footer.insertAdjacentHTML('afterend',modalHTML);\n              }\n            }\n          }\n          xhr2.send(null);\n        }\n      }\n    }\n  };\n\n  xhr.send(null);\n\n});\n\n// Open\ngallery.addEventListener('click', (e)=>{\n  e.preventDefault();\n  console.log(e.target.id);\n  let imdbID = e.target.id;\n  // Instantiate new modal\n  var modal = new Custombox.modal({\n    content: {\n      fullscreen: true,\n      effect: 'fadein',\n      target: '#modal__'+imdbID\n    }\n  });\n  modal.open();\n});\n\n\n//\n// Localstorage for saving images\n//\nif (localStorageSupport()) {\n  // localStorage.setItem('image', );\n  // let moviePicture = eval(localStorage.getItem('image'));\n}\n\nfunction localStorageSupport() {\n  return (('localStorage' in window) && window['localStorage'] !== null)\n}\n"]}